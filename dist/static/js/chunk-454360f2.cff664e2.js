(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-454360f2"],{"411d":function(t,e,i){},6744:function(t,e,i){"use strict";i.r(e),i("a481"),i("c5f6");var a=i("75fc"),n=[{id:"app_invoice_details_infor",queryUrl:"/app/invoice/detailsInfo",autoCreate:!1,autoQuery:!1},{id:"app_invoice_details_infor",queryUrl:"/app/fnd/atm-attachment/query",autoCreate:!1,autoQuery:!1}],s=(i("0e39"),{name:"detail",props:{datas:{type:Object},search:{type:String,default:""},status:{type:String,default:""}},methods:{blur:function(){this.$emit("new-input",this.inputContent)},showTitle:function(){this.originTitle=!this.originTitle}},data:function(){return{promptList:[{prompt:"货物或应税劳务、服务名称",key:"goods_or_taxable_service"},{prompt:"不含税金额",key:"without_tax_amount"},{prompt:"税率",key:"tax_rate"},{prompt:"税额",key:"tax_amount"}],items:[{a:1,b:2},{a:1,b:2},{a:1,b:2},{a:1,b:2},{a:1,b:2}],inputContent:"",originTitle:!0}},computed:{collapseTitle:function(){return this.originTitle?"收起":"展开"}},created:function(){}}),o=(i("77e9"),i("2877")),l=Object(o.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail-container"},[i("div",{staticClass:"top-container"},[t._m(0),i("div",t._l(t.datas.tophead,function(e){return i("div",{key:e.id},[i("div",[i("span",{staticClass:"left-title color-333"},[t._v("\n            "+t._s(t.$t("IN_DETAILS."+e.title))+"\n          ")]),i("span",{staticClass:"right-content"},[t._v("\n            CNY\n            "),i("span",{class:e.class},[t._v(t._s(e.value))])])])])}),0),i("hr",{staticStyle:{border:"1px dashed #ddd",width:"95%"}}),i("au-collapse",{attrs:{titleWrapperStyle:{marginTop:"12px",marginBottom:"12px"},isReverse:!1,collapseStyle:{backgroundColor:"white"},clickEffect:!0,autoExpand:!0}},[i("div",{staticClass:"line-container",staticStyle:{position:"relative",overflow:"hidden"},attrs:{slot:"title"},on:{click:t.showTitle},slot:"title"},[i("span",{staticClass:"detail-information gray-color"},[t._v("\n          "+t._s(t.$t("IN_DETAILS.INVOICEDETAILS"))+"\n        ")]),i("span",{staticClass:"show-status"},[t._v("\n          "+t._s(t.collapseTitle)+"\n          "),i("i",{directives:[{name:"show",rawName:"v-show",value:!t.originTitle,expression:"!originTitle"}],staticClass:"collpase-icon cubeic-pulldown"}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.originTitle,expression:"originTitle"}],staticClass:"collpase-icon cubeic-pullup"})])]),t._l(t.datas.topline,function(e){return i("div",{key:e.id,attrs:{slot:"content"},slot:"content"},[1==e.display?i("div",{staticClass:"clear-both"},[i("span",{staticClass:"left-title"},[t._v("\n            "+t._s(t.$t("IN_DETAILS."+e.title))+"\n          ")]),"placeholder"==e.style?i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputContent,expression:"inputContent"}],staticClass:"right-content",staticStyle:{border:"none","padding-right":"20px",outline:"none"},attrs:{type:"text",placeholder:e.value},domProps:{value:t.inputContent},on:{blur:t.blur,input:function(e){e.target.composing||(t.inputContent=e.target.value)}}}):i("span",{staticClass:"right-content color-333"},[t._v("\n            "+t._s(e.value)+"\n          ")])]):t._e()])})],2),t.datas.toptail[0].value.length?i("div",{staticStyle:{width:"90%",clear:"both",margin:"20px auto 30px"}},[i("hr",{staticStyle:{width:"40%","vertical-align":"middle",display:"inline-block"}}),i("span",{staticClass:"seller-information",staticStyle:{width:"20%",display:"inline-block","text-align":"center"}},[t._v("\n        商品信息\n      ")]),i("hr",{staticStyle:{width:"40%","vertical-align":"middle",display:"inline-block"}})]):t._e(),t._l(t.datas.toptail,function(e){return i("div",{key:e.invoiceid,staticClass:"big-container",staticStyle:{"padding-bottom":"5px overflow:hidden"}},t._l(e.value,function(e,a){return i("div",{key:a,staticClass:"table-container"},[i("au-scroll",{ref:"scroll",refInFor:!0,staticClass:"horizontal-scroll-list-wrap",attrs:{direction:"horizontal"}},[i("table",{staticClass:"table list-wrapper"},[i("tr",[i("td",[t._v("货物或应税劳务、服务名称")]),i("td",[t._v("不含税金额")]),i("td",[t._v("税率")]),i("td",[t._v("税额")])]),i("tr",[i("td",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","max-width":"300px"}},[t._v("\n                "+t._s(e.goodsOrTaxableService)+"\n              ")]),i("td",[t._v("CNY"+t._s(e.withoutTaxAmount))]),i("td",[t._v(t._s(100*e.taxRate)+"%")]),i("td",[t._v("CNY"+t._s(e.taxAmount))])])])])],1)}),0)})],2),i("div",{staticClass:"center-information"},[i("span",{staticClass:"col attachment"},[t._v("附件信息")]),i("div",{staticClass:"pic-container"},[t.datas.center.length>0?i("div",{staticClass:"margin-a"},[i("div",{staticClass:"img-style"},[t._l(t.datas.center,function(t,e){return i("div",{key:e,staticClass:"margin-rb-10 one-pic"},[i("img",{attrs:{src:t.url,width:"75",height:"75"}})])}),i("div")],2)]):i("div",{staticClass:"text-align-center padding-style font-12 color-gray"},[t._v("\n        该单据暂无附件\n      ")])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top-title"},[e("span",{staticClass:"span"},[this._v("增值税普通发票（电子）")]),e("div",{staticClass:"double-circle"})])}],!1,null,"5f91ef45",null).exports,c={ds:Object(a.a)(n),name:"invoice-detail",data:function(){return{ds:this.$getDs("app_invoice_details_infor"),bindTarget:"app_invoice_details_infor",showSave:"",hasFooter:!0,images:[]}},computed:{buttons:function(){return 0==this.showSave?[{class:"button-refuse",text:"删除",callback:this.deleteOne},{class:"button-agree",text:"保存",callback:this.saveOne}]:[{class:"button-refuse",text:"删除",callback:this.deleteOne}]}},components:{detail:l},props:{certificationId:{type:Number,default:function(){return 0}},invoiceId:{type:Number,default:0}},watch:{},methods:{newdata:function(t){},deleteOne:function(){var t=this;this.$post({url:"/app/invoice/appInvoiceCerDel",para:{certificationId:this.certificationId,page:1}}).then(function(e){e&&(sessionStorage.setItem("newInvioce","1"),t.$router.replace({name:"invoice-list"}))},function(t){})},saveOne:function(){this.$router.replace({name:"invoice-list"})},getData:function(t){return"VAT_ELECTRONIC_NORMAL"==t.get("invoiceType")||"OTHER"==t.get("invoiceType")?this.showSave=!1:this.showSave=!0,{tophead:[{class:"huge-font color-dark",title:"AMOUNTINCLUDEDTAX",value:" ".concat(t.get("amount"))},{class:"color-dark",title:"NETAMOUNT",value:" ".concat(t.get("withoutTaxAmount"))}],topline:[{display:!0,title:"INVOICETYPE",value:t.get("invoiceTypeName")},{display:"OTHER"!=t.get("invoiceType"),title:"SELLER",value:t.get("sellerName")},{display:"OTHER"!=t.get("invoiceType"),title:"BUYER",value:t.get("purchaserName")},{display:"OTHER"!=t.get("invoiceType"),title:"INVOICEDATE",value:t.get("invoiceDate")},{display:!0,title:"INVOICENUMBER",value:t.get("invoiceNumber")},{display:!0,title:"INVOICECODE",value:t.get("invoiceCode")},{display:"OTHER"!=t.get("invoiceType"),title:"VERIFICATIONCODE",value:t.get("checkCode")},{display:!0,title:"AMOUNTINCLUDEDTAX",value:t.get("amount")},{display:!0,style:"placeholder",title:"COMMENTS",value:t.get("description")}],toptail:[{value:t.get("invoiceChild")}],center:this.images}}},created:function(){var t=this;this.ds.query({certificationId:this.certificationId,invoiceId:this.invoiceId}),this.$post({url:"/app/fnd/atm-attachment/query",para:{tableName:"INVOICE_REPORT_HEADER",tablePkValue:this.certificationId}}).then(function(e){e.rows&&(t.images=e.rows.map(function(t){return{url:"".concat("http://hzero-80.natapp1.cc:58080/hssp-zhongyu","/fnd/atm-attachment/preview?attachmentId=").concat(t.attachmentId),attachmentId:t.attachmentId}}))},function(t){})},mounted:function(){},activated:function(){}},r=(i("794a"),Object(o.a)(c,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("au-view",{attrs:{hasFooter:t.hasFooter}},[i("div",{attrs:{slot:"center"},slot:"center"},[t._v(t._s(t.$t("IN_DETAILS.INVOICEDETAILS")))]),i("au-data-scope",{attrs:{bindTarget:t.bindTarget}},[i("au-rows",{scopedSlots:t._u([{key:"default",fn:function(e){return[i("detail",{attrs:{datas:t.getData(e.record)},on:{"new-input":t.newdata}})]}}])})],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("au-footer-bar",{attrs:{buttons:t.buttons}})],1)],1)],1)},[],!1,null,"2c2b215a",null));e.default=r.exports},"77e9":function(t,e,i){"use strict";var a=i("411d");i.n(a).a},"794a":function(t,e,i){"use strict";var a=i("d59e");i.n(a).a},d59e:function(t,e,i){}}]);