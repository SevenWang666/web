(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b4604598"],{4769:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAB2ElEQVQ4T2NkoBAwwvT/////HgMDwz8GBoa/WGhsYmC1yAY8YmBgkEV30N5DpxkuXbvL8OnLVwZpSVEGL2crBikJEbgyZAOeMjAwSMFkZixYD2YmRfkwsLGxwjVcuX6XYfn63QwlWdEMggK8DMgGvGBgYBAHqazrnM1QkhXFwMfLjTOEps1by+DpbIliwCsGBgZRkM1RwW54NcNM7Zi0CMWAtwwMDEIgAzISAsFqqttmgP2NDN5/+MwQH+HFICMpBhZG9sL7PYdOC9hZGMD9/PzlW4Zrt+4zONuawM1o7J7LUF+ajDUQP/XPWMFbmBGBYiMoPJrKU8FiG3ccZvB2sWJgYWHGasDXxp65XPUlCNNBqr58/c5w4uwVBhc7U4bGnrkM6PLIXvg+Z+kmjpRoP4yQ333gFIOrgxlDU+88hrriJBR5ZAN+PXvxhvXd+48MOprKWKOPkAF/GBgYmEEh31qVgdWAC1duMxjoqCIS1Y17KLHwHyTz7sMnhhXrdjNkJQXjzWa///xh6JqyBGLA////maCZCKzp/sNnDCs37mGoyIvDasiVG/cYNm4/xFBdmAA3AJTYf6Gr7p+xguHDp88M+tqqDHw83AwPn75guPfgKUNkoCs8nAC/7Mw0XmZfnQAAAABJRU5ErkJggg=="},6210:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("au-view",{ref:"view",attrs:{options:t.options,bindTarget:t.bindTarget,fuzzy_query:t.fuzzy_query,queryKey:"fuzzyValue"}},[o("div",{attrs:{slot:"center"},slot:"center"},[t._v("我的报销")]),o("div",{attrs:{slot:"right"},slot:"right"},[o("div",{on:{click:function(e){return t.filtrate()}}},[o("img",{attrs:{src:r("4769"),alt:""}})])]),o("div",{staticClass:"border-bottom-1px",attrs:{slot:"noScroll"},slot:"noScroll"},[o("au-search",{attrs:{placeholder:"搜索"},model:{value:t.fuzzy_query,callback:function(e){t.fuzzy_query=e},expression:"fuzzy_query"}})],1),o("au-swipe",[o("au-data-scope",{attrs:{bindTarget:t.bindTarget}},[o("au-rows",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.record,a=e.index,n=e.data;return[o("au-swipe-item",{ref:"swipeItem",attrs:{btns:t.addButton(n),index:a,autoShrink:""},on:{"btn-click":t.onBtnClick}},[o("au-template",{attrs:{data:t.getTemplateData(r),search:t.fuzzy_query,status:r.get("reportStatus")},on:{click:function(e){return t.goBillDetail(r)}}})],1)]}}])})],1)],1)],1),o("i",{staticClass:"cubeic-add icon-position",on:{click:t.add}})],1)},a=[],n=r("75fc"),i={id:"app_exp_report_main_query",queryUrl:"/app/exp/report-header/queryExpReportMain",deleteUrl:"/app/exp/report-header/delete",autoCreate:!1,pageSize:10,autoQuery:!0},s={id:"app_exp_report_status_infors",queryUrl:"/app/code/EXP_REPORT_QUERY_STATUS/",autoCreate:!1,autoQuery:!0},u=[i,s],p=r("0394"),l={name:"expense-list",ds:Object(n["a"])(u),data:function(){return{fuzzy_query:"",ds:this.$getDs("app_exp_report_main_query"),options:{pullDownRefresh:{threshold:60,stop:40,txt:"更新成功"},pullUpLoad:{threshold:60,txt:"已加载"},scrollbar:{fade:!0,interactive:!1}},bindTarget:"app_exp_report_main_query"}},activated:function(){this.$store.getters.isRefresh&&(this.$refs.view.query(),this.$store.commit("isRefresh",!1))},methods:{filtrate:function(){this.$createFiltrate({id:"app_exp_report_status_infors",onConfirm:this.query}).show()},query:function(t){var e={status:t.status,amountTo:t.amount_to,amountFrom:t.amount_from};this.ds.setParameters(e),this.ds.pageNum=1,this.$refs.view.query()},addButton:function(t){var e=[],r={action:"delete",text:"删除",color:"#ff3a32"};return"GENERATE"!==t.reportStatus&&"REJECTED"!==t.reportStatus&&"APPROVAL_BACK"!==t.reportStatus||e.push(r),e},add:function(){this.$router.push({name:"select-type"})},onBtnClick:function(t,e){var r=this;"delete"===t.action&&this.$createDialog({type:"confirm",content:"是否删除该单据",onConfirm:function(){var t=Object.create(null),o=r.ds,a=o.getRecordFromIndex(e);t.expReportHeaderId=a.get("expReportHeaderId"),r.ds.delete(t).then(function(t){o.deleteRecordIndex(e)},function(t){})},onCancel:function(){console.log("取消")}}).show()},goBillDetail:function(t){this.$router.push({path:"/exp-recheck",query:{headId:t.get("expReportHeaderId")}},function(){console.log("跳转成功")},function(){console.log("跳转失败")})},getTemplateData:function(t){return{head:[{value:p["default"].action(t.get("reportDate"))},{value:t.get("expReportNumber")}],line:[{value:t.get("moExpReportTypeName"),color:["line-imp","font-pingfang-bold"]},{value:t.get("companyName")},{value:t.get("unitName")},{value:"备注:".concat(t.get("description")?t.get("description"):"暂无"),color:"light-gray"}],bottom:[{value:t.get("reportStatusName"),color:"footer-value-gray"},{value:t.get("totalPaymentAmount")}],others:[{value:"￥ ".concat(t.get("paidAmount"),"(已付)")}]}}}},c=l,d=r("2877"),g=Object(d["a"])(c,o,a,!1,null,"735b2605",null);e["default"]=g.exports}}]);