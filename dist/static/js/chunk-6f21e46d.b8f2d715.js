(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f21e46d"],{"43ad":function(e,t,o){"use strict";var r=o("5d86"),a=o.n(r);a.a},"5d86":function(e,t,o){},"61f2":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("au-view",{staticClass:"view-container background-bills",attrs:{others:e.others,hasFooter:e.hasFooter}},[r("div",{attrs:{slot:"center"},slot:"center"},[e._v("第二步:选择单据")]),r("div",{staticClass:"content-container"},[r("div",{staticClass:"add-prompt"},[r("span",[e._v("按字段维护头信息")]),r("img",{attrs:{src:o("7ef9")}})]),r("au-common",{attrs:{id:e.dsId}})],1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("au-footer-bar",{attrs:{buttons:e.buttons}})],1)])},a=[],i=(o("7f7f"),{id:"getDocHeaderInforsDs",queryUrl:"/app/exp/requisition-header/query",submitUrl:"/app/exp/requisition-header/saveHeader",autoCreate:!1,autoQuery:!1}),s=o("ad0f"),n={data:function(){var e=this;return{hasFooter:!0,ds:{},buttons:[{class:"button-agree",text:"下一步",callback:this.submit}],dsId:"getDocHeaderInforsDs",others:{callback:function(){e.back()}},from:""}},methods:{submit:function(){var e=this;this.ds.submit().then(function(t){if(t.rows){var o=e.ds.getCurrentRecord();o.set("expRequisitionNumber",t.rows[0].expRequisitionNumber),e.$store.commit("headInfo",t.rows[0]),e.$router.push({name:"add-general-req"})}},function(e){console.log(e)})},back:function(){this.$store.getters.headInfo;this.headInfo.expRequisitionHeaderId&&"apply-recheck"!=this.from?(this.$store.commit("setData",{name:"forcedJump",value:"apply-list"}),this.$router.push({name:"apply-list"})):this.$router.go(-1)},queryConfigInfo:function(e){var t=this;this.$post({url:"/app/exp/requisition-header/appGetReqHeaderConfig",para:{moExpReqTypeId:this.headInfo.moExpReqTypeId}}).then(function(e){if(e.rows[0]){var o=Object(s["a"])(e.rows[0]);t.ds.addFields(o),console.log(t.ds)}},function(e){})}},computed:{headInfo:function(){return this.$store.getters.headInfo}},beforeRouteEnter:function(e,t,o){o(function(e){e.from=t.name})},created:function(){var e=this.$route.params.parameter,t={moExpReqTypeId:e.exp_type_id,companyId:e.company_id,employeeId:e.employee_id,accEntityId:e.acc_entity_id,paymentCurrencyCode:e.payment_currency_code,expRequisitionHeaderId:this.headInfo.expRequisitionHeaderId?this.headInfo.expRequisitionHeaderId:void 0};this.$store.commit("headInfo",t),this.ds=this.$ds.createDs(i,this),this.queryConfigInfo(),this.ds.query(t)}},c=n,d=(o("43ad"),o("2877")),u=Object(d["a"])(c,r,a,!1,null,"c1ac6f84",null);t["default"]=u.exports},"7ef9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACAUlEQVQ4T42TT2gTQRTG3zebVklpMlHaHETQo+JNRGkx3dV6FcVM0lIPiif/nAStB6HFkyKIIOjBS0HBNiPWP8dqszXGgoeexKOIoIeIZtNKNMlmnyS4stG17ZyGeW9+8773vgGtspyMOU6ETTKXH/9fGlYHWNeImGXOvrQmwElbF7si9fs908XPfjIfHuxt7fG0uOKfVUdSW+tNMSa1fbUd8wNlZd4EsF/m8rtZDceXyT3BREfaceAdC76emLY/OMpcImDOl9UhoaoObKl5bj+EmGfgHphftu4zkCLmkwBOdTOKUT3/yX+4A9Aq2dnQ/VaQq+K68CaoezmdGmjCmIu4te29s69LfwAr2dQOtymSEn0FB18mwdgsdf5MWNMcZd0m4m9S25cr2aE9RDBQVtYTgCLxruqo04g+A/Mtqe2HoYD0kGIhzgn+edSjjY+I6GOHhHLGWlgTAHE2ofNmaA/KGesKiPtkzj4dWkHGvMOMUkLnJ0IB30cPJhuu994gbzimFxaDkErW3Od5mJG1+q6gL/5xoqPMLBPdJWAKRK/aYyQaBNNxEu4hOVNYCoJDrVweMbfBwwVi3vnbbY9jFJmCfl75W1oogMf2xiqN6ANm6vEvGK44Fpt98XV9AKWMCpXOEzDARAaYC3HqvwGtm+sCBP5HlYhcSbUk9OKPsMn8AprZzfgVoP9aAAAAAElFTkSuQmCC"},ad0f:function(e,t,o){"use strict";o.d(t,"a",function(){return a});o("ac6a");var r=o("75fc");function a(e){var t={commonList:[],descList:[]},o={commonList:[],descList:[]},a={commonList:[],descList:[]};if(Array.isArray(e.columns)&&e.columns.length>0){var s=e.columns;t=i(s)}if(Array.isArray(e.dimensions)&&e.dimensions.length>0){var n=e.dimensions;o=i(n)}if(Array.isArray(e.objects)&&e.objects.length>0){var c=e.objects;a=i(c)}if(Array.isArray(e.vatInvoiceConfig)&&e.vatInvoiceConfig.length>0){var d=e.vatInvoiceConfig;t=i(d)}return[].concat(Object(r["a"])(t.commonList),Object(r["a"])(o.commonList),Object(r["a"])(a.commonList),Object(r["a"])(t.descList),Object(r["a"])(o.descList),Object(r["a"])(a.descList))}function i(e){var t={commonList:[],descList:[]};return e.forEach(function(e){var o=e.lovConfig,r={name:e.column,key:e.keyField,prompt:e.prompt,placeholder:e.placeholder,required:!!e.required,readonly:!!e.readonly,editor_type:e.editor,length:"",showFlag:!0,mapping:Array.isArray(e.mapping)?e.mapping:[e.mapping],queryDs:e.codeConfig?e.codeConfig.queryDs:"",display_field:e.codeConfig?e.codeConfig.displayField:"",lovConfig:o?{queryUrl:o.lovCode?"/app/lov/".concat(o.lovCode):e.queryUrl,autoCreate:!1,para:s(o.values),paraFromDs:o.parameters,autoQuery:!1}:"",others:e.lovConfig?Object.assign({},e.lovConfig.others,{queryUrl:e.queryUrl}):""};"Textarea"!=r.editor_type?t.commonList.push(r):"Textarea"===r.editor_type&&t.descList.push(r)}),t}function s(e){if(e){var t=Object.create(null);return Array.isArray(e)&&e.forEach(function(e){Object.assign(t,e)}),t}}}}]);