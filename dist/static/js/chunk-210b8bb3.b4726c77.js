(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-210b8bb3"],{"39c6":function(t,e,a){"use strict";a.r(e);var n={id:"pmtScheduleListDs",queryUrl:"/app/exp/report-pmt-schedule/query",deleteUrl:"/app/exp/report-line/reportLineDelete",autoCreate:!1,autoQuery:!1},s={data:function(){return{swipeButton:[{action:"delete",text:"删除",color:"#ff3a32"}],buttons:[{class:"button-reset",text:"上一步",callback:this.back},{class:"button-agree",text:"下一步",callback:this.nextStep}],hasFooter:!0,headInfo:this.$store.getters.headInfo,ds:""}},methods:{back:function(){this.$router.back()},onBtnClick:function(t,e){var a=this;if("delete"===t.action){var n={expReportLineId:this.ds.getRecordFromIndex(e).get("paymentScheduleLineId"),expReportHeaderId:this.headInfo.expReportHeaderId};this.ds.delete(n).then(function(t){a.ds.deleteRecordIndex(e)},function(t){})}},restartPlan:function(t){t.preventDefault()},goLoanDetail:function(t){this.$router.push({name:"loan-detail",params:{paymentScheduleLineId:t.paymentScheduleLineId}})},deleteVerification:function(t,e,a){var n=this,s={documentHeaderId:this.headInfo.expReportHeaderId,documentLineId:t.paymentScheduleLineId,writeOffId:e.writeOffId};this.$createDialog({type:"confirm",content:"确认删除吗？",onConfirm:function(){n.$post({url:"/app/exp/report-pmt-schedule/deletePmt",para:s}).then(function(t){var e=n.ds.getCurrentRecord(),s=e.get("writeOffList");s.splice(a,1),e.set("writeOffList",s)},function(t){})},onCancel:function(){}}).show()},nextStep:function(){this.$router.push({name:"attachment"})},relevanceVer:function(t){var e={sourceDocNumber:t.sourceDocNumbers,paymentScheduleLineId:t.paymentScheduleLineId,dateFrom:t.scheduleStartDate,dateTo:t.scheduleDueDate};this.$router.push({name:"loan-verification",params:e})},addLine:function(){this.$router.push({name:"loan-detail"})}},created:function(){this.ds=this.$createDs(n,this);var t={expReportHeaderId:this.headInfo.expReportHeaderId};this.ds.query(t)}},i=(a("c496"),a("2877")),o=Object(i.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("au-view",{staticClass:"view-container background-bills",attrs:{hasFooter:t.hasFooter}},[n("div",{attrs:{slot:"center"},slot:"center"},[t._v("第三步维护收款信息")]),n("div",{staticClass:"content-container"},[n("div",{staticClass:"add-prompt"},[n("span",[t._v("收款信息根据费用自动生成，可修改")]),n("img",{attrs:{src:a("7ef9")}})]),n("au-swipe",[n("au-data-scope",{staticClass:"white-color common-border-radius",attrs:{bindTarget:t.ds.id}},[n("au-rows",{scopedSlots:t._u([{key:"default",fn:function(e){e.record;var a=e.data,s=e.index;return[n("div",{staticClass:" margin-bottom-5"},[n("au-swipe-item",{attrs:{btns:t.swipeButton,index:s,autoShrink:""},on:{"btn-click":t.onBtnClick}},[n("div",{staticClass:"row",on:{click:function(e){return t.goLoanDetail(a)}}},[n("div",{staticClass:"col col-10 vertical-center justify-content-center "},[t._v("\n                    "+t._s(a.scheduleLineNumber)+"\n                  ")]),n("div",{staticClass:"col col-45 color-999 font-12"},[n("div",{staticClass:"padding-t-5 color-abc"},[t._v("\n                      "+t._s(a.payeeCategoryName)+"-"+t._s(a.payeeName)+"\n                    ")]),n("div",{staticClass:"padding-tb-5"},[t._v("\n                      "+t._s(a.accountNumber)+"("+t._s(a.accountName)+")\n                    ")])]),n("div",{staticClass:"col col-45 vertical-center justify-content-center "},[n("span",{staticClass:"color-999"},[t._v("\n                      "+t._s(a.paymentCurrencyCode)+"\n                    ")]),t._v("\n                     "+t._s(t._f("money")(a.dueAmount))+"\n                  ")])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col color-333 border-top-1px border-bottom-1px"},[n("div",{staticClass:"margin-l-12 padding-tb-8"},[t._v("核销借款")])])]),t._l(a.writeOffList,function(e,s){return n("div",{key:s,staticClass:"margin-lr-12 padding-tb-8"},[n("div",{staticClass:"row  vertical-center"},[n("div",{staticClass:"col col-70"},[n("div",[t._v(t._s(e.documentNumber))]),n("div",[n("span",{staticClass:"color-999"},[t._v("\n                        "+t._s(e.currencyCode)+"\n                      ")]),t._v("\n                      "+t._s(t._f("money")(e.cshWriteOffAmount))+"\n                    ")])]),n("div",{staticClass:"col col-30 text-align-right",on:{click:function(n){return t.deleteVerification(a,e,s)}}},[n("au-svg-icon",{staticClass:"font-style",attrs:{svgName:"delete"}})],1)])])}),n("div",[n("div",{staticClass:"item"},[n("div",{staticClass:"add-expense-choose"},[n("div",{staticClass:"add-exp-add",on:{click:function(e){return t.relevanceVer(a)}}},[t._v("\n                      关联借款单核销\n                      "),n("i",{staticClass:"hec-icon-addExpense-exit iconfont hec-icon-associated-borrowing-cancel"})])])])])],2)]}}])})],1)],1),n("div",{staticClass:"item"},[n("div",{staticClass:"add-expense-choose "},[n("div",{staticClass:"add-exp-add",on:{click:function(e){return t.addLine()}}},[t._v("\n          请添加\n          "),n("i",{staticClass:"iconfont hec-icon-addExpense-exit add-rotate-45"})])])])],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("au-footer-bar",{attrs:{buttons:t.buttons}})],1)])},[],!1,null,"25969910",null);e.default=o.exports},"6f76":function(t,e,a){},"7ef9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACAUlEQVQ4T42TT2gTQRTG3zebVklpMlHaHETQo+JNRGkx3dV6FcVM0lIPiif/nAStB6HFkyKIIOjBS0HBNiPWP8dqszXGgoeexKOIoIeIZtNKNMlmnyS4stG17ZyGeW9+8773vgGtspyMOU6ETTKXH/9fGlYHWNeImGXOvrQmwElbF7si9fs908XPfjIfHuxt7fG0uOKfVUdSW+tNMSa1fbUd8wNlZd4EsF/m8rtZDceXyT3BREfaceAdC76emLY/OMpcImDOl9UhoaoObKl5bj+EmGfgHphftu4zkCLmkwBOdTOKUT3/yX+4A9Aq2dnQ/VaQq+K68CaoezmdGmjCmIu4te29s69LfwAr2dQOtymSEn0FB18mwdgsdf5MWNMcZd0m4m9S25cr2aE9RDBQVtYTgCLxruqo04g+A/Mtqe2HoYD0kGIhzgn+edSjjY+I6GOHhHLGWlgTAHE2ofNmaA/KGesKiPtkzj4dWkHGvMOMUkLnJ0IB30cPJhuu994gbzimFxaDkErW3Od5mJG1+q6gL/5xoqPMLBPdJWAKRK/aYyQaBNNxEu4hOVNYCoJDrVweMbfBwwVi3vnbbY9jFJmCfl75W1oogMf2xiqN6ANm6vEvGK44Fpt98XV9AKWMCpXOEzDARAaYC3HqvwGtm+sCBP5HlYhcSbUk9OKPsMn8AprZzfgVoP9aAAAAAElFTkSuQmCC"},c496:function(t,e,a){"use strict";var n=a("6f76");a.n(n).a}}]);