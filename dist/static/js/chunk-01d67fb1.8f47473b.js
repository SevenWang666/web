(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01d67fb1"],{"057b":function(t,s,e){},"25b3":function(t,s,e){"use strict";var i=e("b9e6"),n=e.n(i);n.a},"5ac7":function(t,s,e){"use strict";var i=e("057b"),n=e.n(i);n.a},9546:function(t,s,e){},"9f5c":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"settings"},[e("myHeader",[e("div",{attrs:{slot:"center"},slot:"center"},[t._v("\n      "+t._s(t.$t("MYINFO_SETTINGS.SETTINGS"))+"\n    ")])]),e("div",{staticClass:"seetings-center"},[e("ul",[e("li",[e("span",[t._v(t._s(t.$t("MYINFO_SETTINGS.LANGUAGE")))]),e("span",{on:{click:t.changeLangage}},[t._v("\n          "+t._s(t.selecter)+"\n        ")])]),e("li",[e("span",[t._v(t._s(t.$t("MYINFO_SETTINGS.MOTIONUNLOCK")))]),e("span",[e("switcher",{model:{value:t.fingerPost,callback:function(s){t.fingerPost=s},expression:"fingerPost"}})],1)]),e("li",[e("span",[t._v(t._s(t.$t("MYINFO_SETTINGS.FINGERPRINT")))]),e("span",[e("switcher",{model:{value:t.fingerPrint,callback:function(s){t.fingerPrint=s},expression:"fingerPrint"}})],1)]),e("li",[e("span",[t._v(t._s(t.$t("MYINFO_SETTINGS.MESSAGENOTIFICATIONS")))]),e("span",[e("switcher",{model:{value:t.messageSend,callback:function(s){t.messageSend=s},expression:"messageSend"}})],1)])])]),e("div",{staticClass:"footer-btn"},[e("button",{staticClass:"exit-login delete-button",on:{click:t.logOut}},[t._v("\n      "+t._s(t.$t("MYINFO_SETTINGS.LOGOUT"))+"\n    ")])]),e("lock",{on:{handPwd:t.handPwd},model:{value:t.showPwd,callback:function(s){t.showPwd=s},expression:"showPwd"}})],1)},n=[],a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.currentValue,expression:"currentValue"}],staticClass:"masks"},[e("div",{staticClass:"gesturePwd"},[e("div",{staticClass:"box"},[e("h4",{ref:"gestureTitle",staticClass:"gestureTitle"},[t._v("请绘制您的图形密码")]),e("a",{ref:"updatePassword",staticClass:"reset",on:{click:function(s){return t.updatePassword()}}},[t._v("\n        重置密码\n      ")]),e("a",{ref:"updatePassword",staticClass:"close",on:{click:function(s){return t.closePwd(!1)}}},[t._v("关闭")]),e("canvas",{ref:"canvas"})])])])},o=[],r=(e("c5f6"),e("6c7b"),{props:{value:{type:Boolean,default:!1}},data:function(){return{currentValue:!1,ctx:"",width:0,height:0,devicePixelRatio:0,chooseType:"",r:"",lastPoint:[],arr:[],restPoint:[],pswObj:{step:2},canvas:""}},watch:{value:{handler:function(t){this.currentValue=t},immediate:!0},currentValue:function(t){this.$emit(t?"on-show":"on-hide"),this.$emit("input",t)}},created:function(){"undefined"!==typeof this.value&&(this.currentValue=this.value)},mounted:function(){this.setChooseType(3)},methods:{closePwd:function(t){this.$emit("handPwd",t),this.currentValue=!1},drawCle:function(t,s){this.ctx.strokeStyle="#87888a",this.ctx.lineWidth=2,this.ctx.beginPath(),this.ctx.arc(t,s,this.r,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.stroke()},drawPoint:function(t){for(var s=0;s<this.lastPoint.length;s++)this.ctx.fillStyle=t,this.ctx.beginPath(),this.ctx.arc(this.lastPoint[s].x,this.lastPoint[s].y,this.r/2.5,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},drawStatusPoint:function(t){for(var s=0;s<this.lastPoint.length;s++)this.ctx.strokeStyle=t,this.ctx.beginPath(),this.ctx.arc(this.lastPoint[s].x,this.lastPoint[s].y,this.r,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.stroke()},drawLine:function(t,s,e){this.ctx.beginPath(),this.ctx.strokeStyle=t,this.ctx.lineWidth=3,this.ctx.moveTo(this.lastPoint[0].x,this.lastPoint[0].y);for(var i=1;i<this.lastPoint.length;i++)this.ctx.lineTo(this.lastPoint[i].x,this.lastPoint[i].y);this.ctx.lineTo(s.x,s.y),this.ctx.stroke(),this.ctx.closePath()},createCircle:function(){var t=this.chooseType,s=0;this.r=this.ctx.canvas.width/(2+4*t),this.lastPoint=[],this.arr=[],this.restPoint=[];for(var e=this.r,i=0;i<t;i++)for(var n=0;n<t;n++){s++;var a={x:4*n*e+3*e,y:4*i*e+3*e,index:s};this.arr.push(a),this.restPoint.push(a)}this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height);for(var o=0;o<this.arr.length;o++)this.drawCle(this.arr[o].x,this.arr[o].y)},getPosition:function(t){var s=t.currentTarget.getBoundingClientRect(),e={x:(t.touches[0].clientX-s.left)*this.devicePixelRatio,y:(t.touches[0].clientY-s.top)*this.devicePixelRatio};return e},update:function(t){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height);for(var s=0;s<this.arr.length;s++)this.drawCle(this.arr[s].x,this.arr[s].y);this.drawPoint("#27AED5"),this.drawStatusPoint("#27AED5"),this.drawLine("#27AED5",t,this.lastPoint);for(var e=0;e<this.restPoint.length;e++)if(Math.abs(t.x-this.restPoint[e].x)<this.r&&Math.abs(t.y-this.restPoint[e].y)<this.r){this.drawPoint(this.restPoint[e].x,this.restPoint[e].y),this.lastPoint.push(this.restPoint[e]),this.restPoint.splice(e,1);break}},checkPass:function(t,s){for(var e="",i="",n=0;n<t.length;n++)e+=t[n].index+t[n].index;for(var a=0;a<s.length;a++)i+=s[a].index+s[a].index;return e===i},storePass:function(t){if(1==this.pswObj.step)this.checkPass(this.pswObj.fpassword,t)?(this.pswObj.step=2,this.pswObj.spassword=t,this.$refs.gestureTitle.innerHTML="密码保存成功",this.drawStatusPoint("#2CFF26"),this.drawPoint("#2CFF26"),window.localStorage.setItem("passwordxx",JSON.stringify(this.pswObj.spassword)),window.localStorage.setItem("chooseType",this.chooseType)):(this.$refs.gestureTitle.innerHTML="两次不一致，重新输入",this.drawStatusPoint("red"),this.drawPoint("red"),delete this.pswObj.step);else if(2==this.pswObj.step)if(this.checkPass(this.pswObj.spassword,t)){var s=this.$refs.gestureTitle;s.style.color="#2CFF26",s.innerHTML="解锁成功",this.drawStatusPoint("#2CFF26"),this.drawPoint("#2CFF26"),this.drawLine("#2CFF26",this.lastPoint[this.lastPoint.length-1],this.lastPoint),this.closePwd(!0)}else if(t.length<4){this.drawStatusPoint("red"),this.drawPoint("red"),this.drawLine("red",this.lastPoint[this.lastPoint.length-1],this.lastPoint);var e=this.$refs.gestureTitle;e.style.color="red",e.innerHTML="请连接4个点"}else{this.drawStatusPoint("red"),this.drawPoint("red"),this.drawLine("red",this.lastPoint[this.lastPoint.length-1],this.lastPoint);var i=this.$refs.gestureTitle;i.style.color="red",i.innerHTML="密码错误"}else this.pswObj.step=1,this.pswObj.fpassword=t,this.$refs.gestureTitle.innerHTML="再次输入"},makeState:function(){if(2==this.pswObj.step){this.$refs.updatePassword.style.display="block";var t=this.$refs.gestureTitle;t.style.color="#87888a",t.innerHTML="请解锁"}else 1==this.pswObj.step?this.$refs.updatePassword.style.display="none":this.$refs.updatePassword.style.display="block"},setChooseType:function(t){this.chooseType=t,this.init()},updatePassword:function(){window.localStorage.removeItem("passwordxx"),window.localStorage.removeItem("chooseType"),this.pswObj={},this.$refs.gestureTitle.innerHTML="绘制解锁图案",this.reset()},initDom:function(){this.chooseType=Number(window.localStorage.getItem("chooseType"))||3,this.devicePixelRatio=window.devicePixelRatio||1;var t=this.$refs.canvas,s=this.width||320,e=this.height||320;t.style.width=s+"px",t.style.height=e+"px",t.height=e*this.devicePixelRatio,t.width=s*this.devicePixelRatio},init:function(){this.initDom(),this.pswObj=window.localStorage.getItem("passwordxx")?{step:2,spassword:JSON.parse(window.localStorage.getItem("passwordxx"))}:{},this.lastPoint=[],this.makeState(),this.touchFlag=!1,this.canvas=this.$refs.canvas,this.ctx=this.canvas.getContext("2d"),this.createCircle(),this.bindEvent()},reset:function(){this.makeState(),this.createCircle()},bindEvent:function(){var t=this;this.canvas=this.$refs.canvas,this.canvas.addEventListener("touchstart",function(s){s.preventDefault();for(var e=t.getPosition(s),i=0;i<t.arr.length;i++)if(Math.abs(e.x-t.arr[i].x)<t.r&&Math.abs(e.y-t.arr[i].y)<t.r){t.touchFlag=!0,t.drawPoint(t.arr[i].x,t.arr[i].y),t.lastPoint.push(t.arr[i]),t.restPoint.splice(i,1);break}},!1),this.canvas.addEventListener("touchmove",function(s){t.touchFlag&&t.update(t.getPosition(s))},!1),this.canvas.addEventListener("touchend",function(s){t.touchFlag&&(t.touchFlag=!1,t.storePass(t.lastPoint),setTimeout(function(){t.reset()},1e3))},!1)}}}),c=r,h=(e("25b3"),e("2877")),l=Object(h["a"])(c,a,o,!1,null,"4dee4488",null),d=l.exports,u=e("2591"),w=e("c6a1"),g={components:{switcher:u["a"],lock:d,myHeader:w["a"]},name:"settings",data:function(){return{fingerPost:!1,fingerPrint:!1,messageSend:!1,selecter:"简体中文",systemLang:"跟随系统",showPwd:!1}},methods:{changeLangage:function(){var t=this;this.$createActionSheet({active:0,data:[{content:this.systemLang,value:""},{content:"简体中文",value:"zh"},{content:"ENGLISH",value:"en"}],onSelect:function(s){"zh"==s.value?(t.$i18n.locale="zh",window.localStorage.setItem("lang",t.$i18n.locale),t.selecter="简体中文",t.systemLang="跟随系统"):"en"==s.value?(t.$i18n.locale="en",window.localStorage.setItem("lang",t.$i18n.locale),t.selecter="ENGLISH",t.systemLang="System Language"):(window.localStorage.setItem("lang",window.localStorage),"zh"==window.localStorage.lang?(t.selecter="简体中文",t.systemLang="跟随系统"):"en"==window.localStorage.lang&&(t.selecter="ENGLISH",t.systemLang="System Language"))}}).show()},logOut:function(){window.localStorage.setItem("userName",""),window.localStorage.setItem("password",""),this.$router.push("login")},changeData:function(){"en"==window.localStorage.lang?(this.selecter="ENGLISH",this.systemLang="System Language"):(this.selecter="简体中文",this.systemLang="跟随系统")},showClicked:function(){this.showPwd=!0},handPwd:function(t){console.log(t)}},created:function(){console.log(window.localStorage.lang),this.changeData()},computed:{},watch:{fingerPost:function(t){console.log("手势解锁的状态：".concat(t)),t&&this.showClicked()},fingerPrint:function(t){console.log("指纹登录的状态：".concat(t))},messageSend:function(t){console.log("消息推送的状态：".concat(t))}}},f=g,P=(e("5ac7"),Object(h["a"])(f,i,n,!1,null,"65531ef8",null));s["default"]=P.exports},b254:function(t,s,e){"use strict";var i=e("9546"),n=e.n(i);n.a},b9e6:function(t,s,e){},c6a1:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"my-header-container"},[e("div",[e("div",{staticClass:"header-center"},[e("div",{staticClass:"left left-button text-ellipsis "},[e("div",{staticClass:"back-btn iconfont hec-icon-fanhui",on:{click:t.goBack}},[t._t("left")],2)]),e("div",{staticClass:"center text-ellipsis "},[t._t("center")],2),e("div",{staticClass:"right right-button text-ellipsis "},[t._t("right")],2)])])])},n=[],a={methods:{goBack:function(){this.$router.go(-1)}},created:function(){}},o=a,r=(e("b254"),e("2877")),c=Object(r["a"])(o,i,n,!1,null,"76f3ac7c",null);s["a"]=c.exports}}]);