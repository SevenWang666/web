(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d594a0d0"],{"287d":function(t,e,i){},"7ef9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACAUlEQVQ4T42TT2gTQRTG3zebVklpMlHaHETQo+JNRGkx3dV6FcVM0lIPiif/nAStB6HFkyKIIOjBS0HBNiPWP8dqszXGgoeexKOIoIeIZtNKNMlmnyS4stG17ZyGeW9+8773vgGtspyMOU6ETTKXH/9fGlYHWNeImGXOvrQmwElbF7si9fs908XPfjIfHuxt7fG0uOKfVUdSW+tNMSa1fbUd8wNlZd4EsF/m8rtZDceXyT3BREfaceAdC76emLY/OMpcImDOl9UhoaoObKl5bj+EmGfgHphftu4zkCLmkwBOdTOKUT3/yX+4A9Aq2dnQ/VaQq+K68CaoezmdGmjCmIu4te29s69LfwAr2dQOtymSEn0FB18mwdgsdf5MWNMcZd0m4m9S25cr2aE9RDBQVtYTgCLxruqo04g+A/Mtqe2HoYD0kGIhzgn+edSjjY+I6GOHhHLGWlgTAHE2ofNmaA/KGesKiPtkzj4dWkHGvMOMUkLnJ0IB30cPJhuu994gbzimFxaDkErW3Od5mJG1+q6gL/5xoqPMLBPdJWAKRK/aYyQaBNNxEu4hOVNYCoJDrVweMbfBwwVi3vnbbY9jFJmCfl75W1oogMf2xiqN6ANm6vEvGK44Fpt98XV9AKWMCpXOEzDARAaYC3HqvwGtm+sCBP5HlYhcSbUk9OKPsMn8AprZzfgVoP9aAAAAAElFTkSuQmCC"},8304:function(t,e,i){"use strict";var o=i("287d");i.n(o).a},ad0f:function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i("ac6a");var o=i("75fc");function s(t){var e={commonList:[],descList:[]},i={commonList:[],descList:[]},s={commonList:[],descList:[]};return Array.isArray(t.columns)&&t.columns.length>0&&(e=a(t.columns)),Array.isArray(t.dimensions)&&t.dimensions.length>0&&(i=a(t.dimensions)),Array.isArray(t.objects)&&t.objects.length>0&&(s=a(t.objects)),Array.isArray(t.vatInvoiceConfig)&&t.vatInvoiceConfig.length>0&&(e=a(t.vatInvoiceConfig)),[].concat(Object(o.a)(e.commonList),Object(o.a)(i.commonList),Object(o.a)(s.commonList),Object(o.a)(e.descList),Object(o.a)(i.descList),Object(o.a)(s.descList))}function a(t){var e={commonList:[],descList:[]};return t.forEach(function(t){var i=t.lovConfig,o={name:t.column,key:t.keyField,prompt:t.prompt,placeholder:t.placeholder,required:!!t.required,readonly:!!t.readonly,editor_type:t.editor,length:"",showFlag:!0,mapping:Array.isArray(t.mapping)?t.mapping:[t.mapping],queryDs:t.codeConfig?t.codeConfig.queryDs:"",display_field:t.codeConfig?t.codeConfig.displayField:"",lovConfig:i?{queryUrl:i.lovCode?"/app/lov/".concat(i.lovCode):t.queryUrl,autoCreate:!1,para:n(i.values),paraFromDs:i.parameters,autoQuery:!1}:"",others:t.lovConfig?Object.assign({},t.lovConfig.others,{queryUrl:t.queryUrl}):""};"Textarea"!=o.editor_type?e.commonList.push(o):"Textarea"===o.editor_type&&e.descList.push(o)}),e}function n(t){if(t){var e=Object.create(null);return Array.isArray(t)&&t.forEach(function(t){Object.assign(e,t)}),e}}},c38a:function(t,e,i){"use strict";i.r(e),i("28a5"),i("6762"),i("2fdb");var o={id:"invoiveTypeSelect",submitUrl:"/app/invoice/appVatInvoiceCertInsert",autoCreate:!0,autoQuery:!1},s=i("ad0f"),a={data:function(){return{hasFooter:!0,invoiceStyle:"",dsId:"invoiveTypeSelect",typeOptions:[],styleOptions:[],ds:"",invoiceType:"",buttons:[{class:"button-agree",text:"保存",callback:this.upLoad}]}},computed:{},props:{},watch:{},methods:{upLoad:function(){var t=this;this.invoiceType,this.ds.getCurrentRecord().data.interfaceFlag="Y",this.ds.getCurrentRecord().data.invoiceType=this.invoiceType,this.ds.getCurrentRecord().data.certificationType="qrcode",this.ds.getCurrentRecord().data.sourcePlatform="APP",this.ds.submit().then(function(e){if(e.rows[0])if(e.rows[0].success){var i=t.ds.getCurrentRecord(),o=e.rows[0];i.set("certificationId",o.certificationId),i.set("invoiceNumber",o.invoiceNumber),t.$router.push({name:"invoice-attachment",params:{certificationId:e.rows[0].result[0].certificationId,invoiceId:e.rows[0].result[0].invoiceId}})}else{var s=e.rows[0].message;s=s.includes("-")?s.split("-")[1]:e.rows[0].message,t.$createDialog({content:s}).show()}},function(t){})},toSelect:function(){var t=this;this.picker||(this.picker=this.$createPicker({title:"选择发票类型",data:[this.styleOptions],onSelect:function(e,i,o){t.ds.clearData(),t.ds.create({}),t.ds.locate(0),t.invoiceStyle=o[0],t.getData(e[0]),t.invoiceType=e[0]},onCancel:this.cancelHandle})),this.picker.show()},getData:function(t){var e=this;this.$post({url:"/app/invoice/appInvoiceConfig",para:{vatInvoiceTypeCode:t,page:1}}).then(function(t){if(t.rows[0]){var i=Object(s.a)(t.rows[0]);e.ds.replaceFields(i)}},function(t){})}},created:function(){var t=this;this.$post({url:"/app/invoice/appInvoiceTypeQuery",para:{page:1}}).then(function(e){t.typeOptions=e.rows;for(var i=0;i<t.typeOptions.length;i++)t.styleOptions.push({text:t.typeOptions[i].meaning,value:t.typeOptions[i].value})},function(e){t.isSuccess=!1}),this.ds=this.$ds.createDs(o,this),this.dsId=o.id},mounted:function(){},activated:function(){}},n=(i("8304"),i("2877")),c=Object(n.a)(a,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("au-view",{attrs:{hasFooter:t.hasFooter}},[o("div",{attrs:{slot:"center"},slot:"center"},[t._v("发票详细信息")]),o("div",[o("div",{staticClass:"center"},[o("div",{staticClass:"add-prompt"},[o("span",[t._v("选择需要采集的发票类型")]),o("img",{attrs:{src:i("7ef9")}})]),o("div",{staticClass:"au-item-style",on:{click:t.toSelect}},[o("div",{staticClass:"col col-30 gray-color"},[o("div",{staticClass:"required-ver"},[o("span")]),t._v("\n            发票类型\n          ")]),o("div",{staticClass:"col col-65 color-666 text-align-right"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceStyle,expression:"invoiceStyle"}],staticClass:"text-align-right input-styl",staticStyle:{"background-color":"white"},attrs:{type:"text",placeholder:"请选择发票类型",disabled:"disabled"},domProps:{value:t.invoiceStyle},on:{input:function(e){e.target.composing||(t.invoiceStyle=e.target.value)}}})]),o("div",{staticClass:"col col-5 "},[o("i",{staticClass:"cubeic-select icon",staticStyle:{color:"#ccc","margin-left":"5%"}})])])]),o("au-common",{attrs:{id:"invoiveTypeSelect"}})],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("au-footer-bar",{attrs:{buttons:t.buttons}})],1)])],1)},[],!1,null,"0b64cb04",null);e.default=c.exports}}]);