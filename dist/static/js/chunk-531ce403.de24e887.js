(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-531ce403"],{"636e":function(e,t,r){"use strict";r.r(t),r("7f7f");var o={id:"getDocHeaderInforsDs",queryUrl:"/app/exp/report-header/appGetReportHeaderInfo",submitUrl:"/app/exp/report-header/saveHeader",autoCreate:!1,autoQuery:!1},a=r("ad0f"),s={name:"head-form",data:function(){var e=this;return{hasFooter:!0,ds:{},buttons:[{class:"button-agree",text:"下一步",callback:this.submit}],dsId:"getDocHeaderInforsDs",others:{callback:function(){e.back()}},from:""}},computed:{headInfo:function(){return this.$store.getters.headInfo}},methods:{back:function(){this.$store.getters.headInfo,this.headInfo.expReportHeaderId&&"exp-recheck"!=this.from?(this.$store.commit("setData",{name:"forcedJump",value:"expense-list"}),this.$router.push({name:"expense-list"})):this.$router.go(-1)},submit:function(){var e=this;this.ds.submit().then(function(t){if(t.rows[0]){var r=e.ds.getCurrentRecord(),o=t.rows[0];e.$store.commit("headInfo",o),r.set("expReportHeaderId",o.expReportHeaderId),r.set("expReportNumber",o.expReportNumber),e.$store.commit("isRefresh",!0),e.$router.push({name:"add-general-exp"})}},function(e){})},queryConfigInfo:function(e){var t=this;this.$post({url:"/app/exp/report-header/appGetReportHeaderConfig",para:{moExpReportTypeId:this.headInfo.moExpReportTypeId}}).then(function(e){if(e.rows[0]){var r=Object(a.a)(e.rows[0]);t.ds.addFields(r)}},function(e){})}},beforeRouteEnter:function(e,t,r){r(function(e){e.from=t.name})},created:function(){this.parameter=this.$route.params.parameter;var e={moExpReportTypeId:this.parameter.moExpReportTypeId,companyId:this.parameter.companyId,employeeId:this.parameter.employeeId,accEntityId:this.parameter.accEntityId,paymentCurrencyCode:this.parameter.paymentCurrencyCode,expReportHeaderId:this.headInfo.expReportHeaderId};this.$store.commit("headInfo",e),this.ds=this.$ds.createDs(o,this),this.dsId=o.id,this.queryConfigInfo(),this.ds.query(e)}},n=(r("6829"),r("2877")),i=Object(n.a)(s,function(){var e=this.$createElement,t=this._self._c||e;return t("au-view",{staticClass:"view-container background-bills",attrs:{others:this.others,hasFooter:this.hasFooter}},[t("div",{attrs:{slot:"center"},slot:"center"},[this._v("第二步:维护单据头")]),t("div",{staticClass:"content-container"},[t("div",{staticClass:"add-prompt"},[t("span",[this._v("按字段维护头信息")]),t("img",{attrs:{src:r("7ef9")}})]),t("au-common",{attrs:{id:this.dsId}})],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("au-footer-bar",{attrs:{buttons:this.buttons}})],1)])},[],!1,null,"43b8acf9",null);t.default=i.exports},6829:function(e,t,r){"use strict";var o=r("864a");r.n(o).a},"7ef9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACAUlEQVQ4T42TT2gTQRTG3zebVklpMlHaHETQo+JNRGkx3dV6FcVM0lIPiif/nAStB6HFkyKIIOjBS0HBNiPWP8dqszXGgoeexKOIoIeIZtNKNMlmnyS4stG17ZyGeW9+8773vgGtspyMOU6ETTKXH/9fGlYHWNeImGXOvrQmwElbF7si9fs908XPfjIfHuxt7fG0uOKfVUdSW+tNMSa1fbUd8wNlZd4EsF/m8rtZDceXyT3BREfaceAdC76emLY/OMpcImDOl9UhoaoObKl5bj+EmGfgHphftu4zkCLmkwBOdTOKUT3/yX+4A9Aq2dnQ/VaQq+K68CaoezmdGmjCmIu4te29s69LfwAr2dQOtymSEn0FB18mwdgsdf5MWNMcZd0m4m9S25cr2aE9RDBQVtYTgCLxruqo04g+A/Mtqe2HoYD0kGIhzgn+edSjjY+I6GOHhHLGWlgTAHE2ofNmaA/KGesKiPtkzj4dWkHGvMOMUkLnJ0IB30cPJhuu994gbzimFxaDkErW3Od5mJG1+q6gL/5xoqPMLBPdJWAKRK/aYyQaBNNxEu4hOVNYCoJDrVweMbfBwwVi3vnbbY9jFJmCfl75W1oogMf2xiqN6ANm6vEvGK44Fpt98XV9AKWMCpXOEzDARAaYC3HqvwGtm+sCBP5HlYhcSbUk9OKPsMn8AprZzfgVoP9aAAAAAElFTkSuQmCC"},"864a":function(e,t,r){},ad0f:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r("ac6a");var o=r("75fc");function a(e){var t={commonList:[],descList:[]},r={commonList:[],descList:[]},a={commonList:[],descList:[]};return Array.isArray(e.columns)&&e.columns.length>0&&(t=s(e.columns)),Array.isArray(e.dimensions)&&e.dimensions.length>0&&(r=s(e.dimensions)),Array.isArray(e.objects)&&e.objects.length>0&&(a=s(e.objects)),Array.isArray(e.vatInvoiceConfig)&&e.vatInvoiceConfig.length>0&&(t=s(e.vatInvoiceConfig)),[].concat(Object(o.a)(t.commonList),Object(o.a)(r.commonList),Object(o.a)(a.commonList),Object(o.a)(t.descList),Object(o.a)(r.descList),Object(o.a)(a.descList))}function s(e){var t={commonList:[],descList:[]};return e.forEach(function(e){var r=e.lovConfig,o={name:e.column,key:e.keyField,prompt:e.prompt,placeholder:e.placeholder,required:!!e.required,readonly:!!e.readonly,editor_type:e.editor,length:"",showFlag:!0,mapping:Array.isArray(e.mapping)?e.mapping:[e.mapping],queryDs:e.codeConfig?e.codeConfig.queryDs:"",display_field:e.codeConfig?e.codeConfig.displayField:"",lovConfig:r?{queryUrl:r.lovCode?"/app/lov/".concat(r.lovCode):e.queryUrl,autoCreate:!1,para:n(r.values),paraFromDs:r.parameters,autoQuery:!1}:"",others:e.lovConfig?Object.assign({},e.lovConfig.others,{queryUrl:e.queryUrl}):""};"Textarea"!=o.editor_type?t.commonList.push(o):"Textarea"===o.editor_type&&t.descList.push(o)}),t}function n(e){if(e){var t=Object.create(null);return Array.isArray(e)&&e.forEach(function(e){Object.assign(t,e)}),t}}}}]);